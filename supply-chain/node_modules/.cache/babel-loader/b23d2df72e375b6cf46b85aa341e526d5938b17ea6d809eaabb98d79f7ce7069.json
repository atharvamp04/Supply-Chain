{"ast":null,"code":"/**\r\n *  All errors in ethers include properties to ensure they are both\r\n *  human-readable (i.e. ``.message``) and machine-readable (i.e. ``.code``).\r\n *\r\n *  The [[isError]] function can be used to check the error ``code`` and\r\n *  provide a type guard for the properties present on that error interface.\r\n *\r\n *  @_section: api/utils/errors:Errors  [about-errors]\r\n */\nimport { version } from \"../_version.js\";\nimport { defineProperties } from \"./properties.js\";\nfunction stringify(value) {\n  if (value == null) {\n    return \"null\";\n  }\n  if (Array.isArray(value)) {\n    return \"[ \" + value.map(stringify).join(\", \") + \" ]\";\n  }\n  if (value instanceof Uint8Array) {\n    const HEX = \"0123456789abcdef\";\n    let result = \"0x\";\n    for (let i = 0; i < value.length; i++) {\n      result += HEX[value[i] >> 4];\n      result += HEX[value[i] & 0xf];\n    }\n    return result;\n  }\n  if (typeof value === \"object\" && typeof value.toJSON === \"function\") {\n    return stringify(value.toJSON());\n  }\n  switch (typeof value) {\n    case \"boolean\":\n    case \"symbol\":\n      return value.toString();\n    case \"bigint\":\n      return BigInt(value).toString();\n    case \"number\":\n      return value.toString();\n    case \"string\":\n      return JSON.stringify(value);\n    case \"object\":\n      {\n        const keys = Object.keys(value);\n        keys.sort();\n        return \"{ \" + keys.map(k => `${stringify(k)}: ${stringify(value[k])}`).join(\", \") + \" }\";\n      }\n  }\n  return `[ COULD NOT SERIALIZE ]`;\n}\n/**\r\n *  Returns true if the %%error%% matches an error thrown by ethers\r\n *  that matches the error %%code%%.\r\n *\r\n *  In TypeScript environments, this can be used to check that %%error%%\r\n *  matches an EthersError type, which means the expected properties will\r\n *  be set.\r\n *\r\n *  @See [ErrorCodes](api:ErrorCode)\r\n *  @example\r\n *    try {\r\n *      // code....\r\n *    } catch (e) {\r\n *      if (isError(e, \"CALL_EXCEPTION\")) {\r\n *          // The Type Guard has validated this object\r\n *          console.log(e.data);\r\n *      }\r\n *    }\r\n */\nexport function isError(error, code) {\n  return error && error.code === code;\n}\n/**\r\n *  Returns true if %%error%% is a [[CallExceptionError].\r\n */\nexport function isCallException(error) {\n  return isError(error, \"CALL_EXCEPTION\");\n}\n/**\r\n *  Returns a new Error configured to the format ethers emits errors, with\r\n *  the %%message%%, [[api:ErrorCode]] %%code%% and additional properties\r\n *  for the corresponding EthersError.\r\n *\r\n *  Each error in ethers includes the version of ethers, a\r\n *  machine-readable [[ErrorCode]], and depending on %%code%%, additional\r\n *  required properties. The error message will also include the %%message%%,\r\n *  ethers version, %%code%% and all additional properties, serialized.\r\n */\nexport function makeError(message, code, info) {\n  let shortMessage = message;\n  {\n    const details = [];\n    if (info) {\n      if (\"message\" in info || \"code\" in info || \"name\" in info) {\n        throw new Error(`value will overwrite populated values: ${stringify(info)}`);\n      }\n      for (const key in info) {\n        if (key === \"shortMessage\") {\n          continue;\n        }\n        const value = info[key];\n        //                try {\n        details.push(key + \"=\" + stringify(value));\n        //                } catch (error: any) {\n        //                console.log(\"MMM\", error.message);\n        //                    details.push(key + \"=[could not serialize object]\");\n        //                }\n      }\n    }\n    details.push(`code=${code}`);\n    details.push(`version=${version}`);\n    if (details.length) {\n      message += \" (\" + details.join(\", \") + \")\";\n    }\n  }\n  let error;\n  switch (code) {\n    case \"INVALID_ARGUMENT\":\n      error = new TypeError(message);\n      break;\n    case \"NUMERIC_FAULT\":\n    case \"BUFFER_OVERRUN\":\n      error = new RangeError(message);\n      break;\n    default:\n      error = new Error(message);\n  }\n  defineProperties(error, {\n    code\n  });\n  if (info) {\n    Object.assign(error, info);\n  }\n  if (error.shortMessage == null) {\n    defineProperties(error, {\n      shortMessage\n    });\n  }\n  return error;\n}\n/**\r\n *  Throws an EthersError with %%message%%, %%code%% and additional error\r\n *  %%info%% when %%check%% is falsish..\r\n *\r\n *  @see [[api:makeError]]\r\n */\nexport function assert(check, message, code, info) {\n  if (!check) {\n    throw makeError(message, code, info);\n  }\n}\n/**\r\n *  A simple helper to simply ensuring provided arguments match expected\r\n *  constraints, throwing if not.\r\n *\r\n *  In TypeScript environments, the %%check%% has been asserted true, so\r\n *  any further code does not need additional compile-time checks.\r\n */\nexport function assertArgument(check, message, name, value) {\n  assert(check, message, \"INVALID_ARGUMENT\", {\n    argument: name,\n    value: value\n  });\n}\nexport function assertArgumentCount(count, expectedCount, message) {\n  if (message == null) {\n    message = \"\";\n  }\n  if (message) {\n    message = \": \" + message;\n  }\n  assert(count >= expectedCount, \"missing arguemnt\" + message, \"MISSING_ARGUMENT\", {\n    count: count,\n    expectedCount: expectedCount\n  });\n  assert(count <= expectedCount, \"too many arguments\" + message, \"UNEXPECTED_ARGUMENT\", {\n    count: count,\n    expectedCount: expectedCount\n  });\n}\nconst _normalizeForms = [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].reduce((accum, form) => {\n  try {\n    // General test for normalize\n    /* c8 ignore start */\n    if (\"test\".normalize(form) !== \"test\") {\n      throw new Error(\"bad\");\n    }\n    ;\n    /* c8 ignore stop */\n    if (form === \"NFD\") {\n      const check = String.fromCharCode(0xe9).normalize(\"NFD\");\n      const expected = String.fromCharCode(0x65, 0x0301);\n      /* c8 ignore start */\n      if (check !== expected) {\n        throw new Error(\"broken\");\n      }\n      /* c8 ignore stop */\n    }\n    accum.push(form);\n  } catch (error) {}\n  return accum;\n}, []);\n/**\r\n *  Throws if the normalization %%form%% is not supported.\r\n */\nexport function assertNormalize(form) {\n  assert(_normalizeForms.indexOf(form) >= 0, \"platform missing String.prototype.normalize\", \"UNSUPPORTED_OPERATION\", {\n    operation: \"String.prototype.normalize\",\n    info: {\n      form\n    }\n  });\n}\n/**\r\n *  Many classes use file-scoped values to guard the constructor,\r\n *  making it effectively private. This facilitates that pattern\r\n *  by ensuring the %%givenGaurd%% matches the file-scoped %%guard%%,\r\n *  throwing if not, indicating the %%className%% if provided.\r\n */\nexport function assertPrivate(givenGuard, guard, className) {\n  if (className == null) {\n    className = \"\";\n  }\n  if (givenGuard !== guard) {\n    let method = className,\n      operation = \"new\";\n    if (className) {\n      method += \".\";\n      operation += \" \" + className;\n    }\n    assert(false, `private constructor; use ${method}from* methods`, \"UNSUPPORTED_OPERATION\", {\n      operation\n    });\n  }\n}","map":{"version":3,"names":["version","defineProperties","stringify","value","Array","isArray","map","join","Uint8Array","HEX","result","i","length","toJSON","toString","BigInt","JSON","keys","Object","sort","k","isError","error","code","isCallException","makeError","message","info","shortMessage","details","Error","key","push","TypeError","RangeError","assign","assert","check","assertArgument","name","argument","assertArgumentCount","count","expectedCount","_normalizeForms","reduce","accum","form","normalize","String","fromCharCode","expected","assertNormalize","indexOf","operation","assertPrivate","givenGuard","guard","className","method"],"sources":["C:\\Users\\patil\\OneDrive\\Desktop\\Hack4Good\\Supply-Chain\\supply-chain\\node_modules\\ethers\\src.ts\\utils\\errors.ts"],"sourcesContent":["/**\r\n *  All errors in ethers include properties to ensure they are both\r\n *  human-readable (i.e. ``.message``) and machine-readable (i.e. ``.code``).\r\n *\r\n *  The [[isError]] function can be used to check the error ``code`` and\r\n *  provide a type guard for the properties present on that error interface.\r\n *\r\n *  @_section: api/utils/errors:Errors  [about-errors]\r\n */\r\n\r\nimport { version } from \"../_version.js\";\r\n\r\nimport { defineProperties } from \"./properties.js\";\r\n\r\nimport type {\r\n    TransactionRequest, TransactionReceipt, TransactionResponse\r\n} from \"../providers/index.js\";\r\n\r\nimport type { FetchRequest, FetchResponse } from \"./fetch.js\";\r\n\r\n/**\r\n *  An error may contain additional properties, but those must not\r\n *  conflict with any implicit properties.\r\n */\r\nexport type ErrorInfo<T> = Omit<T, \"code\" | \"name\" | \"message\" | \"shortMessage\"> & { shortMessage?: string };\r\n\r\n\r\nfunction stringify(value: any): any {\r\n    if (value == null) { return \"null\"; }\r\n\r\n    if (Array.isArray(value)) {\r\n        return \"[ \" + (value.map(stringify)).join(\", \") + \" ]\";\r\n    }\r\n\r\n    if (value instanceof Uint8Array) {\r\n        const HEX = \"0123456789abcdef\";\r\n        let result = \"0x\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            result += HEX[value[i] >> 4];\r\n            result += HEX[value[i] & 0xf];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    if (typeof(value) === \"object\" && typeof(value.toJSON) === \"function\") {\r\n        return stringify(value.toJSON());\r\n    }\r\n\r\n    switch (typeof(value)) {\r\n        case \"boolean\": case \"symbol\":\r\n            return value.toString();\r\n        case \"bigint\":\r\n            return BigInt(value).toString();\r\n        case \"number\":\r\n            return (value).toString();\r\n        case \"string\":\r\n            return JSON.stringify(value);\r\n        case \"object\": {\r\n            const keys = Object.keys(value);\r\n            keys.sort();\r\n            return \"{ \" + keys.map((k) => `${ stringify(k) }: ${ stringify(value[k]) }`).join(\", \") + \" }\";\r\n        }\r\n    }\r\n\r\n    return `[ COULD NOT SERIALIZE ]`;\r\n}\r\n\r\n/**\r\n *  All errors emitted by ethers have an **ErrorCode** to help\r\n *  identify and coalesce errors to simplify programmatic analysis.\r\n *\r\n *  Each **ErrorCode** is the %%code%% proerty of a coresponding\r\n *  [[EthersError]].\r\n *\r\n *  **Generic Errors**\r\n *\r\n *  **``\"UNKNOWN_ERROR\"``** - see [[UnknownError]]\r\n *\r\n *  **``\"NOT_IMPLEMENTED\"``** - see [[NotImplementedError]]\r\n *\r\n *  **``\"UNSUPPORTED_OPERATION\"``** - see [[UnsupportedOperationError]]\r\n *\r\n *  **``\"NETWORK_ERROR\"``** - see [[NetworkError]]\r\n *\r\n *  **``\"SERVER_ERROR\"``** - see [[ServerError]]\r\n *\r\n *  **``\"TIMEOUT\"``** - see [[TimeoutError]]\r\n *\r\n *  **``\"BAD_DATA\"``** - see [[BadDataError]]\r\n *\r\n *  **``\"CANCELLED\"``** - see [[CancelledError]]\r\n *\r\n *  **Operational Errors**\r\n *\r\n *  **``\"BUFFER_OVERRUN\"``** - see [[BufferOverrunError]]\r\n *\r\n *  **``\"NUMERIC_FAULT\"``** - see [[NumericFaultError]]\r\n *\r\n *  **Argument Errors**\r\n *\r\n *  **``\"INVALID_ARGUMENT\"``** - see [[InvalidArgumentError]]\r\n *\r\n *  **``\"MISSING_ARGUMENT\"``** - see [[MissingArgumentError]]\r\n *\r\n *  **``\"UNEXPECTED_ARGUMENT\"``** - see [[UnexpectedArgumentError]]\r\n *\r\n *  **``\"VALUE_MISMATCH\"``** - //unused//\r\n *\r\n *  **Blockchain Errors**\r\n *\r\n *  **``\"CALL_EXCEPTION\"``** - see [[CallExceptionError]]\r\n *\r\n *  **``\"INSUFFICIENT_FUNDS\"``** - see [[InsufficientFundsError]]\r\n *\r\n *  **``\"NONCE_EXPIRED\"``** - see [[NonceExpiredError]]\r\n *\r\n *  **``\"REPLACEMENT_UNDERPRICED\"``** - see [[ReplacementUnderpricedError]]\r\n *\r\n *  **``\"TRANSACTION_REPLACED\"``** - see [[TransactionReplacedError]]\r\n *\r\n *  **``\"UNCONFIGURED_NAME\"``** - see [[UnconfiguredNameError]]\r\n *\r\n *  **``\"OFFCHAIN_FAULT\"``** - see [[OffchainFaultError]]\r\n *\r\n *  **User Interaction Errors**\r\n *\r\n *  **``\"ACTION_REJECTED\"``** - see [[ActionRejectedError]]\r\n */\r\nexport type ErrorCode =\r\n\r\n    // Generic Errors\r\n    \"UNKNOWN_ERROR\" | \"NOT_IMPLEMENTED\" | \"UNSUPPORTED_OPERATION\" |\r\n    \"NETWORK_ERROR\" | \"SERVER_ERROR\" | \"TIMEOUT\" | \"BAD_DATA\" |\r\n    \"CANCELLED\" |\r\n\r\n    // Operational Errors\r\n    \"BUFFER_OVERRUN\" |  \"NUMERIC_FAULT\" |\r\n\r\n    // Argument Errors\r\n    \"INVALID_ARGUMENT\" | \"MISSING_ARGUMENT\" | \"UNEXPECTED_ARGUMENT\" |\r\n    \"VALUE_MISMATCH\" |\r\n\r\n    // Blockchain Errors\r\n    \"CALL_EXCEPTION\" | \"INSUFFICIENT_FUNDS\" | \"NONCE_EXPIRED\" |\r\n    \"REPLACEMENT_UNDERPRICED\" | \"TRANSACTION_REPLACED\" |\r\n    \"UNCONFIGURED_NAME\" | \"OFFCHAIN_FAULT\" |\r\n\r\n    // User Interaction\r\n    \"ACTION_REJECTED\"\r\n;\r\n\r\n/**\r\n *  All errors in Ethers include properties to assist in\r\n *  machine-readable errors.\r\n */\r\nexport interface EthersError<T extends ErrorCode = ErrorCode> extends Error {\r\n    /**\r\n     *  The string error code.\r\n     */\r\n    code: ErrorCode;\r\n\r\n    /**\r\n     *  A short message describing the error, with minimal additional\r\n     *  details.\r\n     */\r\n    shortMessage: string;\r\n\r\n    /**\r\n     *  Additional info regarding the error that may be useful.\r\n     *\r\n     *  This is generally helpful mostly for human-based debugging.\r\n     */\r\n    info?: Record<string, any>;\r\n\r\n    /**\r\n     *  Any related error.\r\n     */\r\n    error?: Error;\r\n}\r\n\r\n// Generic Errors\r\n\r\n/**\r\n *  This Error is a catch-all for when there is no way for Ethers to\r\n *  know what the underlying problem is.\r\n */\r\nexport interface UnknownError extends EthersError<\"UNKNOWN_ERROR\"> {\r\n    [ key: string ]: any;\r\n}\r\n\r\n/**\r\n *  This Error is mostly used as a stub for functionality that is\r\n *  intended for the future, but is currently not implemented.\r\n */\r\nexport interface NotImplementedError extends EthersError<\"NOT_IMPLEMENTED\"> {\r\n    /**\r\n     *  The attempted operation.\r\n     */\r\n    operation: string;\r\n}\r\n\r\n/**\r\n *  This Error indicates that the attempted operation is not supported.\r\n *\r\n *  This could range from a specific JSON-RPC end-point not supporting\r\n *  a feature to a specific configuration of an object prohibiting the\r\n *  operation.\r\n *\r\n *  For example, a [[Wallet]] with no connected [[Provider]] is unable\r\n *  to send a transaction.\r\n */\r\nexport interface UnsupportedOperationError extends EthersError<\"UNSUPPORTED_OPERATION\"> {\r\n    /**\r\n     *  The attempted operation.\r\n     */\r\n    operation: string;\r\n}\r\n\r\n/**\r\n *  This Error indicates a problem connecting to a network.\r\n */\r\nexport interface NetworkError extends EthersError<\"NETWORK_ERROR\"> {\r\n    /**\r\n     *  The network event.\r\n     */\r\n    event: string;\r\n}\r\n\r\n/**\r\n *  This Error indicates there was a problem fetching a resource from\r\n *  a server.\r\n */\r\nexport interface ServerError extends EthersError<\"SERVER_ERROR\"> {\r\n    /**\r\n     *  The requested resource.\r\n     */\r\n    request: FetchRequest | string;\r\n\r\n    /**\r\n     *  The response received from the server, if available.\r\n     */\r\n    response?: FetchResponse;\r\n}\r\n\r\n/**\r\n *  This Error indicates that the timeout duration has expired and\r\n *  that the operation has been implicitly cancelled.\r\n *\r\n *  The side-effect of the operation may still occur, as this\r\n *  generally means a request has been sent and there has simply\r\n *  been no response to indicate whether it was processed or not.\r\n */\r\nexport interface TimeoutError extends EthersError<\"TIMEOUT\"> {\r\n    /**\r\n     *  The attempted operation.\r\n     */\r\n    operation: string;\r\n\r\n    /**\r\n     *  The reason.\r\n     */\r\n    reason: string;\r\n\r\n    /**\r\n     *  The resource request, if available.\r\n     */\r\n    request?: FetchRequest;\r\n}\r\n\r\n/**\r\n *  This Error indicates that a provided set of data cannot\r\n *  be correctly interpreted.\r\n */\r\nexport interface BadDataError extends EthersError<\"BAD_DATA\"> {\r\n    /**\r\n     *  The data.\r\n     */\r\n    value: any;\r\n}\r\n\r\n/**\r\n *  This Error indicates that the operation was cancelled by a\r\n *  programmatic call, for example to ``cancel()``.\r\n */\r\nexport interface CancelledError extends EthersError<\"CANCELLED\"> {\r\n}\r\n\r\n\r\n// Operational Errors\r\n\r\n/**\r\n *  This Error indicates an attempt was made to read outside the bounds\r\n *  of protected data.\r\n *\r\n *  Most operations in Ethers are protected by bounds checks, to mitigate\r\n *  exploits when parsing data.\r\n */\r\nexport interface BufferOverrunError extends EthersError<\"BUFFER_OVERRUN\"> {\r\n    /**\r\n     *  The buffer that was overrun.\r\n     */\r\n    buffer: Uint8Array;\r\n\r\n    /**\r\n     *  The length of the buffer.\r\n     */\r\n    length: number;\r\n\r\n    /**\r\n     *  The offset that was requested.\r\n     */\r\n    offset: number;\r\n}\r\n\r\n/**\r\n *  This Error indicates an operation which would result in incorrect\r\n *  arithmetic output has occurred.\r\n *\r\n *  For example, trying to divide by zero or using a ``uint8`` to store\r\n *  a negative value.\r\n */\r\nexport interface NumericFaultError extends EthersError<\"NUMERIC_FAULT\"> {\r\n    /**\r\n     *  The attempted operation.\r\n     */\r\n    operation: string;\r\n\r\n    /**\r\n     *  The fault reported.\r\n     */\r\n    fault: string;\r\n\r\n    /**\r\n     *  The value the operation was attempted against.\r\n     */\r\n    value: any;\r\n}\r\n\r\n\r\n// Argument Errors\r\n\r\n/**\r\n *  This Error indicates an incorrect type or value was passed to\r\n *  a function or method.\r\n */\r\nexport interface InvalidArgumentError extends EthersError<\"INVALID_ARGUMENT\"> {\r\n    /**\r\n     *  The name of the argument.\r\n     */\r\n    argument: string;\r\n\r\n    /**\r\n     *  The value that was provided.\r\n     */\r\n    value: any;\r\n\r\n    info?: Record<string, any>\r\n}\r\n\r\n/**\r\n *  This Error indicates there were too few arguments were provided.\r\n */\r\nexport interface MissingArgumentError extends EthersError<\"MISSING_ARGUMENT\"> {\r\n    /**\r\n     *  The number of arguments received.\r\n     */\r\n    count: number;\r\n\r\n    /**\r\n     *  The number of arguments expected.\r\n     */\r\n    expectedCount: number;\r\n}\r\n\r\n/**\r\n *  This Error indicates too many arguments were provided.\r\n */\r\nexport interface UnexpectedArgumentError extends EthersError<\"UNEXPECTED_ARGUMENT\"> {\r\n    /**\r\n     *  The number of arguments received.\r\n     */\r\n    count: number;\r\n\r\n    /**\r\n     *  The number of arguments expected.\r\n     */\r\n    expectedCount: number;\r\n}\r\n\r\n\r\n// Blockchain Errors\r\n\r\n/**\r\n *  The action that resulted in the call exception.\r\n */\r\nexport type CallExceptionAction = \"call\" | \"estimateGas\" | \"getTransactionResult\" | \"sendTransaction\" | \"unknown\";\r\n\r\n/**\r\n *  The related transaction that caused the error.\r\n */\r\nexport type CallExceptionTransaction = {\r\n    to: null | string;\r\n    from?: string;\r\n    data: string;\r\n};\r\n\r\n/**\r\n *  This **Error** indicates a transaction reverted.\r\n */\r\nexport interface CallExceptionError extends EthersError<\"CALL_EXCEPTION\"> {\r\n\r\n    /**\r\n     *  The action being performed when the revert was encountered.\r\n     */\r\n    action: CallExceptionAction;\r\n\r\n    /**\r\n     *  The revert data returned.\r\n     */\r\n    data: null | string;\r\n\r\n    /**\r\n     *  A human-readable representation of data, if possible.\r\n     */\r\n    reason: null | string;\r\n\r\n    /**\r\n     *  The transaction that triggered the exception.\r\n     */\r\n    transaction: CallExceptionTransaction,\r\n\r\n    /**\r\n     *  The contract invocation details, if available.\r\n     */\r\n    invocation: null | {\r\n        method: string;\r\n        signature: string;\r\n        args: Array<any>;\r\n    }\r\n\r\n    /**\r\n     *  The built-in or custom revert error, if available\r\n     */\r\n    revert: null | {\r\n        signature: string;\r\n        name: string;\r\n        args: Array<any>;\r\n    }\r\n\r\n    /**\r\n     *  If the error occurred in a transaction that was mined\r\n     *  (with a status of ``0``), this is the receipt.\r\n     */\r\n    receipt?: TransactionReceipt;   // @TODO: in v7, make this `null | TransactionReceipt`\r\n}\r\n\r\n\r\n/**\r\n *  The sending account has insufficient funds to cover the\r\n *  entire transaction cost.\r\n */\r\nexport interface InsufficientFundsError extends EthersError<\"INSUFFICIENT_FUNDS\"> {\r\n    /**\r\n     *  The transaction.\r\n     */\r\n    transaction: TransactionRequest;\r\n}\r\n\r\n/**\r\n *  The sending account has already used this nonce in a\r\n *  transaction that has been included.\r\n */\r\nexport interface NonceExpiredError extends EthersError<\"NONCE_EXPIRED\"> {\r\n    /**\r\n     *  The transaction.\r\n     */\r\n    transaction: TransactionRequest;\r\n}\r\n\r\n/**\r\n *  A CCIP-read exception, which cannot be recovered from or\r\n *  be further processed.\r\n */\r\nexport interface OffchainFaultError extends EthersError<\"OFFCHAIN_FAULT\"> {\r\n    /**\r\n     *  The transaction.\r\n     */\r\n    transaction?: TransactionRequest;\r\n\r\n    /**\r\n     *  The reason the CCIP-read failed.\r\n     */\r\n    reason: string;\r\n}\r\n\r\n/**\r\n *  An attempt was made to replace a transaction, but with an\r\n *  insufficient additional fee to afford evicting the old\r\n *  transaction from the memory pool.\r\n */\r\nexport interface ReplacementUnderpricedError extends EthersError<\"REPLACEMENT_UNDERPRICED\"> {\r\n    /**\r\n     *  The transaction.\r\n     */\r\n    transaction: TransactionRequest;\r\n}\r\n\r\n/**\r\n *  A pending transaction was replaced by another.\r\n */\r\nexport interface TransactionReplacedError extends EthersError<\"TRANSACTION_REPLACED\"> {\r\n    /**\r\n     *  If the transaction was cancelled, such that the original\r\n     *  effects of the transaction cannot be assured.\r\n     */\r\n    cancelled: boolean;\r\n\r\n    /**\r\n     *  The reason the transaction was replaced.\r\n     */\r\n    reason: \"repriced\" | \"cancelled\" | \"replaced\";\r\n\r\n    /**\r\n     *  The hash of the replaced transaction.\r\n     */\r\n    hash: string;\r\n\r\n    /**\r\n     *  The transaction that replaced the transaction.\r\n     */\r\n    replacement: TransactionResponse;\r\n\r\n    /**\r\n     *  The receipt of the transaction that replace the transaction.\r\n     */\r\n    receipt: TransactionReceipt;\r\n}\r\n\r\n/**\r\n *  This Error indicates an ENS name was used, but the name has not\r\n *  been configured.\r\n *\r\n *  This could indicate an ENS name is unowned or that the current\r\n *  address being pointed to is the [[ZeroAddress]].\r\n */\r\nexport interface UnconfiguredNameError extends EthersError<\"UNCONFIGURED_NAME\"> {\r\n    /**\r\n     *  The ENS name that was requested\r\n     */\r\n    value: string;\r\n}\r\n\r\n/**\r\n *  This Error indicates a request was rejected by the user.\r\n *\r\n *  In most clients (such as MetaMask), when an operation requires user\r\n *  authorization (such as ``signer.sendTransaction``), the client\r\n *  presents a dialog box to the user. If the user denies the request\r\n *  this error is thrown.\r\n */\r\nexport interface ActionRejectedError extends EthersError<\"ACTION_REJECTED\"> {\r\n    /**\r\n     *  The requested action.\r\n     */\r\n    action: \"requestAccess\" | \"sendTransaction\" | \"signMessage\" | \"signTransaction\" | \"signTypedData\" | \"unknown\",\r\n\r\n    /**\r\n     *  The reason the action was rejected.\r\n     *\r\n     *  If there is already a pending request, some clients may indicate\r\n     *  there is already a ``\"pending\"`` action. This prevents an app\r\n     *  from spamming the user.\r\n     */\r\n    reason: \"expired\" | \"rejected\" | \"pending\"\r\n}\r\n\r\n// Coding; converts an ErrorCode its Typed Error\r\n\r\n/**\r\n *  A conditional type that transforms the [[ErrorCode]] T into\r\n *  its EthersError type.\r\n *\r\n *  @flatworm-skip-docs\r\n */\r\nexport type CodedEthersError<T> =\r\n    T extends \"UNKNOWN_ERROR\" ? UnknownError:\r\n    T extends \"NOT_IMPLEMENTED\" ? NotImplementedError:\r\n    T extends \"UNSUPPORTED_OPERATION\" ? UnsupportedOperationError:\r\n    T extends \"NETWORK_ERROR\" ? NetworkError:\r\n    T extends \"SERVER_ERROR\" ? ServerError:\r\n    T extends \"TIMEOUT\" ? TimeoutError:\r\n    T extends \"BAD_DATA\" ? BadDataError:\r\n    T extends \"CANCELLED\" ? CancelledError:\r\n\r\n    T extends \"BUFFER_OVERRUN\" ? BufferOverrunError:\r\n    T extends \"NUMERIC_FAULT\" ? NumericFaultError:\r\n\r\n    T extends \"INVALID_ARGUMENT\" ? InvalidArgumentError:\r\n    T extends \"MISSING_ARGUMENT\" ? MissingArgumentError:\r\n    T extends \"UNEXPECTED_ARGUMENT\" ? UnexpectedArgumentError:\r\n\r\n    T extends \"CALL_EXCEPTION\" ? CallExceptionError:\r\n    T extends \"INSUFFICIENT_FUNDS\" ? InsufficientFundsError:\r\n    T extends \"NONCE_EXPIRED\" ? NonceExpiredError:\r\n    T extends \"OFFCHAIN_FAULT\" ? OffchainFaultError:\r\n    T extends \"REPLACEMENT_UNDERPRICED\" ? ReplacementUnderpricedError:\r\n    T extends \"TRANSACTION_REPLACED\" ? TransactionReplacedError:\r\n    T extends \"UNCONFIGURED_NAME\" ? UnconfiguredNameError:\r\n\r\n    T extends \"ACTION_REJECTED\" ? ActionRejectedError:\r\n\r\n    never;\r\n\r\n\r\n\r\n/**\r\n *  Returns true if the %%error%% matches an error thrown by ethers\r\n *  that matches the error %%code%%.\r\n *\r\n *  In TypeScript environments, this can be used to check that %%error%%\r\n *  matches an EthersError type, which means the expected properties will\r\n *  be set.\r\n *\r\n *  @See [ErrorCodes](api:ErrorCode)\r\n *  @example\r\n *    try {\r\n *      // code....\r\n *    } catch (e) {\r\n *      if (isError(e, \"CALL_EXCEPTION\")) {\r\n *          // The Type Guard has validated this object\r\n *          console.log(e.data);\r\n *      }\r\n *    }\r\n */\r\nexport function isError<K extends ErrorCode, T extends CodedEthersError<K>>(error: any, code: K): error is T {\r\n    return (error && (<EthersError>error).code === code);\r\n}\r\n\r\n/**\r\n *  Returns true if %%error%% is a [[CallExceptionError].\r\n */\r\nexport function isCallException(error: any): error is CallExceptionError {\r\n    return isError(error, \"CALL_EXCEPTION\");\r\n}\r\n\r\n/**\r\n *  Returns a new Error configured to the format ethers emits errors, with\r\n *  the %%message%%, [[api:ErrorCode]] %%code%% and additional properties\r\n *  for the corresponding EthersError.\r\n *\r\n *  Each error in ethers includes the version of ethers, a\r\n *  machine-readable [[ErrorCode]], and depending on %%code%%, additional\r\n *  required properties. The error message will also include the %%message%%,\r\n *  ethers version, %%code%% and all additional properties, serialized.\r\n */\r\nexport function makeError<K extends ErrorCode, T extends CodedEthersError<K>>(message: string, code: K, info?: ErrorInfo<T>): T {\r\n    let shortMessage = message;\r\n\r\n    {\r\n        const details: Array<string> = [];\r\n        if (info) {\r\n            if (\"message\" in info || \"code\" in info || \"name\" in info) {\r\n                throw new Error(`value will overwrite populated values: ${ stringify(info) }`);\r\n            }\r\n            for (const key in info) {\r\n                if (key === \"shortMessage\") { continue; }\r\n                const value = <any>(info[<keyof ErrorInfo<T>>key]);\r\n//                try {\r\n                    details.push(key + \"=\" + stringify(value));\r\n//                } catch (error: any) {\r\n//                console.log(\"MMM\", error.message);\r\n//                    details.push(key + \"=[could not serialize object]\");\r\n//                }\r\n            }\r\n        }\r\n        details.push(`code=${ code }`);\r\n        details.push(`version=${ version }`);\r\n\r\n        if (details.length) {\r\n            message += \" (\" + details.join(\", \") + \")\";\r\n        }\r\n    }\r\n\r\n    let error;\r\n    switch (code) {\r\n        case \"INVALID_ARGUMENT\":\r\n            error = new TypeError(message);\r\n            break;\r\n        case \"NUMERIC_FAULT\":\r\n        case \"BUFFER_OVERRUN\":\r\n            error = new RangeError(message);\r\n            break;\r\n        default:\r\n            error = new Error(message);\r\n    }\r\n\r\n    defineProperties<EthersError>(<EthersError>error, { code });\r\n\r\n    if (info) { Object.assign(error, info); }\r\n\r\n    if ((<any>error).shortMessage == null) {\r\n        defineProperties<EthersError>(<EthersError>error, { shortMessage });\r\n    }\r\n\r\n    return <T>error;\r\n}\r\n\r\n/**\r\n *  Throws an EthersError with %%message%%, %%code%% and additional error\r\n *  %%info%% when %%check%% is falsish..\r\n *\r\n *  @see [[api:makeError]]\r\n */\r\nexport function assert<K extends ErrorCode, T extends CodedEthersError<K>>(check: unknown, message: string, code: K, info?: ErrorInfo<T>): asserts check {\r\n    if (!check) { throw makeError(message, code, info); }\r\n}\r\n\r\n\r\n/**\r\n *  A simple helper to simply ensuring provided arguments match expected\r\n *  constraints, throwing if not.\r\n *\r\n *  In TypeScript environments, the %%check%% has been asserted true, so\r\n *  any further code does not need additional compile-time checks.\r\n */\r\nexport function assertArgument(check: unknown, message: string, name: string, value: unknown): asserts check {\r\n    assert(check, message, \"INVALID_ARGUMENT\", { argument: name, value: value });\r\n}\r\n\r\nexport function assertArgumentCount(count: number, expectedCount: number, message?: string): void {\r\n    if (message == null) { message = \"\"; }\r\n    if (message) { message = \": \" + message; }\r\n\r\n    assert(count >= expectedCount, \"missing arguemnt\" + message, \"MISSING_ARGUMENT\", {\r\n        count: count,\r\n        expectedCount: expectedCount\r\n    });\r\n\r\n    assert(count <= expectedCount, \"too many arguments\" + message, \"UNEXPECTED_ARGUMENT\", {\r\n        count: count,\r\n        expectedCount: expectedCount\r\n    });\r\n}\r\n\r\nconst _normalizeForms = [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].reduce((accum, form) => {\r\n    try {\r\n        // General test for normalize\r\n        /* c8 ignore start */\r\n        if (\"test\".normalize(form) !== \"test\") { throw new Error(\"bad\"); };\r\n        /* c8 ignore stop */\r\n\r\n        if (form === \"NFD\") {\r\n            const check = String.fromCharCode(0xe9).normalize(\"NFD\");\r\n            const expected = String.fromCharCode(0x65, 0x0301)\r\n            /* c8 ignore start */\r\n            if (check !== expected) { throw new Error(\"broken\") }\r\n            /* c8 ignore stop */\r\n        }\r\n\r\n        accum.push(form);\r\n    } catch(error) { }\r\n\r\n    return accum;\r\n}, <Array<string>>[]);\r\n\r\n/**\r\n *  Throws if the normalization %%form%% is not supported.\r\n */\r\nexport function assertNormalize(form: string): void {\r\n    assert(_normalizeForms.indexOf(form) >= 0, \"platform missing String.prototype.normalize\", \"UNSUPPORTED_OPERATION\", {\r\n        operation: \"String.prototype.normalize\", info: { form }\r\n    });\r\n}\r\n\r\n/**\r\n *  Many classes use file-scoped values to guard the constructor,\r\n *  making it effectively private. This facilitates that pattern\r\n *  by ensuring the %%givenGaurd%% matches the file-scoped %%guard%%,\r\n *  throwing if not, indicating the %%className%% if provided.\r\n */\r\nexport function assertPrivate(givenGuard: any, guard: any, className?: string): void {\r\n    if (className == null) { className = \"\"; }\r\n    if (givenGuard !== guard) {\r\n        let method = className, operation = \"new\";\r\n        if (className) {\r\n            method += \".\";\r\n            operation += \" \" + className;\r\n        }\r\n        assert(false, `private constructor; use ${ method }from* methods`, \"UNSUPPORTED_OPERATION\", {\r\n            operation\r\n        });\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}